<script src="./products.json" type="text/javascript"> console.log(products);// this brings data to the order page</script>
<script>
    // this is for making sure all inputs are valid quantities. Taken from Lab13
    function isNonNegInt(q, returnErrors = false) {
        // checks if a string 'q' is a non-neg integer. If returnErrors is true, the array of errors is returned
        //Other returns true if q is a non-neg int.
        errors = []; // assume no errors at first
        if (q == '') q = 0;
        if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
        else {
            if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
            if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
        }
        return returnErrors ? errors : (errors.length == 0);
    };
</script>

<script>
    // this is to show the type of error if the input is not valid
    function checkQuantityTextbox(theTextbox) {
        // is the textbox value a non-neg int?
        var errors_array = isNonNegInt(theTextbox.value, true);
        document.getElementById(quantity_return2).innerHTML = errors_array.join(' ');
    }
</script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Page</title>
    <h1>Sean's Shoe Store</h1>
</head>
<body>
    <form name="quantity_form" action="/purchase" method="POST">
<div>
    <main>
        <script>
            // For loop that will generate the products
            for (i = 0; i < products_array.length; i++) {
                document.write(`
                <section class="item">
                    <h2>${products_array[i].name}</h2>
                    <h3>${products_array[i].price}</h3>
                    <img src="${products_array[i].iamge}">
                `);
            }
        </script>
    </main>
</div>
    </form>
</body>
</html>